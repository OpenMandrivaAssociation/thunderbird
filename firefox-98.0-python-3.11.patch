diff -up firefox-98.0/dom/base/usecounters.py.omv~ firefox-98.0/dom/base/usecounters.py
--- firefox-98.0/dom/base/usecounters.py.omv~	2022-03-15 15:52:22.532354802 +0100
+++ firefox-98.0/dom/base/usecounters.py	2022-03-15 15:52:25.708262252 +0100
@@ -8,7 +8,7 @@ import re
 
 def read_conf(conf_filename):
     # Can't read/write from a single StringIO, so make a new one for reading.
-    stream = open(conf_filename, "rU")
+    stream = open(conf_filename, "r")
 
     def parse_counters(stream):
         for line_num, line in enumerate(stream):
diff -up firefox-98.0/python/mozbuild/mozbuild/action/process_define_files.py.omv~ firefox-98.0/python/mozbuild/mozbuild/action/process_define_files.py
--- firefox-98.0/python/mozbuild/mozbuild/action/process_define_files.py.omv~	2022-03-15 15:53:15.344815781 +0100
+++ firefox-98.0/python/mozbuild/mozbuild/action/process_define_files.py	2022-03-15 15:53:17.590750332 +0100
@@ -36,7 +36,7 @@ def process_define_file(output, input):
     ) and not config.substs.get("JS_STANDALONE"):
         config = PartialConfigEnvironment(mozpath.join(topobjdir, "js", "src"))
 
-    with open(path, "rU") as input:
+    with open(path, "r") as input:
         r = re.compile(
             "^\s*#\s*(?P<cmd>[a-z]+)(?:\s+(?P<name>\S+)(?:\s+(?P<value>\S+))?)?", re.U
         )
diff -up firefox-98.0/python/mozbuild/mozbuild/backend/base.py.omv~ firefox-98.0/python/mozbuild/mozbuild/backend/base.py
--- firefox-98.0/python/mozbuild/mozbuild/backend/base.py.omv~	2022-03-15 15:52:34.839996140 +0100
+++ firefox-98.0/python/mozbuild/mozbuild/backend/base.py	2022-03-15 15:52:37.956905309 +0100
@@ -272,7 +272,7 @@ class BuildBackend(LoggingMixin):
         return status
 
     @contextmanager
-    def _write_file(self, path=None, fh=None, readmode="rU"):
+    def _write_file(self, path=None, fh=None, readmode="r"):
         """Context manager to write a file.
 
         This is a glorified wrapper around FileAvoidWrite with integration to
diff -up firefox-98.0/python/mozbuild/mozbuild/preprocessor.py.omv~ firefox-98.0/python/mozbuild/mozbuild/preprocessor.py
--- firefox-98.0/python/mozbuild/mozbuild/preprocessor.py.omv~	2022-03-15 15:52:44.583712196 +0100
+++ firefox-98.0/python/mozbuild/mozbuild/preprocessor.py	2022-03-15 15:52:57.578333516 +0100
@@ -531,7 +531,7 @@ class Preprocessor:
 
         if args:
             for f in args:
-                with io.open(f, "rU", encoding="utf-8") as input:
+                with io.open(f, "r", encoding="utf-8") as input:
                     self.processFile(input=input, output=out)
             if depfile:
                 mk = Makefile()
@@ -860,7 +860,7 @@ class Preprocessor:
                     args = self.applyFilters(args)
                 if not os.path.isabs(args):
                     args = os.path.join(self.curdir, args)
-                args = io.open(args, "rU", encoding="utf-8")
+                args = io.open(args, "r", encoding="utf-8")
             except Preprocessor.Error:
                 raise
             except Exception:
@@ -914,7 +914,7 @@ class Preprocessor:
 def preprocess(includes=[sys.stdin], defines={}, output=sys.stdout, marker="#"):
     pp = Preprocessor(defines=defines, marker=marker)
     for f in includes:
-        with io.open(f, "rU", encoding="utf-8") as input:
+        with io.open(f, "r", encoding="utf-8") as input:
             pp.processFile(input=input, output=output)
     return pp.includes
 
diff -up firefox-98.0/python/mozbuild/mozbuild/util.py.omv~ firefox-98.0/python/mozbuild/mozbuild/util.py
--- firefox-98.0/python/mozbuild/mozbuild/util.py.omv~	2022-03-15 15:53:04.890120442 +0100
+++ firefox-98.0/python/mozbuild/mozbuild/util.py	2022-03-15 15:53:07.575042200 +0100
@@ -236,7 +236,7 @@ class FileAvoidWrite(BytesIO):
     still occur, as well as diff capture if requested.
     """
 
-    def __init__(self, filename, capture_diff=False, dry_run=False, readmode="rU"):
+    def __init__(self, filename, capture_diff=False, dry_run=False, readmode="r"):
         BytesIO.__init__(self)
         self.name = filename
         assert type(capture_diff) == bool
diff -up firefox-98.0/python/mozbuild/mozpack/files.py.omv~ firefox-98.0/python/mozbuild/mozpack/files.py
--- firefox-98.0/python/mozbuild/mozpack/files.py.omv~	2022-03-15 15:53:23.219586300 +0100
+++ firefox-98.0/python/mozbuild/mozpack/files.py	2022-03-15 15:53:26.949477607 +0100
@@ -570,7 +570,7 @@ class PreprocessedFile(BaseFile):
         pp = Preprocessor(defines=self.defines, marker=self.marker)
         pp.setSilenceDirectiveWarnings(self.silence_missing_directive_warnings)
 
-        with _open(self.path, "rU") as input:
+        with _open(self.path, "r") as input:
             with _open(os.devnull, "w") as output:
                 pp.processFile(input=input, output=output)
 
@@ -627,7 +627,7 @@ class PreprocessedFile(BaseFile):
         pp = Preprocessor(defines=self.defines, marker=self.marker)
         pp.setSilenceDirectiveWarnings(self.silence_missing_directive_warnings)
 
-        with _open(self.path, "rU") as input:
+        with _open(self.path, "r") as input:
             pp.processFile(input=input, output=dest, depfile=deps_out)
 
         dest.close()
